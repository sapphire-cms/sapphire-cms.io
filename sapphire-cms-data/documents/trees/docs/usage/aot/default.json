{"id":"aot","store":"docs","path":["usage"],"type":"tree","variant":"default","status":"PUBLISHED","createdAt":"2025-08-08T17:11:59.792Z","lastModifiedAt":"2025-08-08T20:01:18.842Z","createdBy":"node@0.0.0","content":{"title":"AOT Bundling","precedent":"docs/usage/document-shapers:default","next":"docs/content-modeling/field-types:default","content":"Sapphire is a modular, self-assembling CMS that makes bootstrapping effortless. On startup, it automatically discovers and plugs in all the necessary \nlayers from available modules.\n\nThis dynamic discovery is powerful, but it comes with a cost: it slows down the initial startup. \nOn local machines or traditional cloud setups, this is barely noticeable. \nBut on **serverless platforms**, cold-start time matters — and every millisecond counts.\n\nSince Sapphire is **serverless-first by design**, it comes with a built-in solution: the **Ahead-of-Time (AOT) compiler and bundler**.\nDuring development, the AOT tool scans your project, detects all the modules in use, and assembles them into a single monolithic bundle \n— ready to be deployed to any serverless environment without runtime module discovery.\n\nWhile AOT bundling is **mandatory** for serverless deployments, traditional cloud setups can benefit as well. \nPre-bundling not only slashes cold-start time but also eliminates unnecessary I/O operations, making the CMS faster and more efficient across the board.\n\n## Install\n\nTo add the Ahead-of-Time compiler and bundler to your project, run:\n\n```shell\nsapphire-cms package install aot\n```\n\nor \n\n```shell\nscms pkg i aot\n```\n\n## Usage\n\nTo produce a ready-to-deploy bundle of your CMS, simply run:\n\n```shell\nscms build\n```\n\nThis command will scan your project for content schemas, rendering pipelines, document shapers, and all the necessary modules — \nthen assemble them into a single **executable JavaScript file** with **no external dependencies**, ready to deploy to your target platform.\n\nBy default, the generated bundle will be placed in the `dist` folder of your project.\n\n```\nMy-Project\n├── dist\n    ├── sapphire-cms\n        ├── sapphire.firebase.js\n        ├── sapphire.standalone.js\n        ├── sapphire.vercel.js\n        ├── ...\n```\n\n## Configuration\n\nThe AOT bundler can be configured like any other Sapphire module, using the `sapphire-cms.config.yaml` file:\n\n```yaml\n# ./sapphire-cms.config.yaml\n\nconfig:\n  modules:\n    aot:\n      dist: out\n```\n\n### Module parameters\n\n| Parameter | Type   | Mandatory | Description                                                                             |\n| --------- | ------ | --------- | --------------------------------------------------------------------------------------- |\n| dist      | string | no        | Absolute or relative path (from the root) to the output dirrectory. Defaults to `dist`. |\n"}}